<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:models="clr-namespace:Git.Models"
             xmlns:ui="clr-namespace:Git.UI"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Git.UI.BranchButton">
    <Button>
        <Grid ColumnDefinitions="Auto *">
            <PathIcon
                Data="M19.5 7.50202C19.5002 6.97598 19.3622 6.45912 19.0997 6.00327C18.8371 5.54743 18.4594 5.16863 18.0042 4.90487C17.5491 4.6411 17.0326 4.50165 16.5066 4.5005C15.9805 4.49934 15.4634 4.63652 15.0072 4.89828C14.5509 5.16004 14.1714 5.53718 13.9069 5.99186C13.6424 6.44655 13.502 6.9628 13.5 7.48883C13.498 8.01487 13.6343 8.53219 13.8953 8.98892C14.1562 9.44564 14.5327 9.82572 14.987 10.091C14.88 11.454 14.047 11.825 11.472 12.361C10.639 12.533 9.78798 12.71 9.00098 13.014V7.09802C9.5729 6.76781 10.0199 6.25812 10.2726 5.64799C10.5253 5.03786 10.5697 4.36138 10.3988 3.72348C10.2278 3.08558 9.85119 2.52191 9.32726 2.11988C8.80333 1.71785 8.16138 1.49994 7.50098 1.49994C6.84057 1.49994 6.19863 1.71785 5.67469 2.11988C5.15076 2.52191 4.77412 3.08558 4.6032 3.72348C4.43228 4.36138 4.47661 5.03786 4.72934 5.64799C4.98206 6.25812 5.42905 6.76781 6.00098 7.09802V16.905C5.42998 17.2348 4.98356 17.7436 4.73076 18.3526C4.47796 18.9617 4.43286 19.637 4.60243 20.2743C4.77201 20.9115 5.14681 21.4751 5.66888 21.8779C6.19095 22.2808 6.8312 22.5003 7.49061 22.5027C8.15002 22.5052 8.79185 22.2902 9.31684 21.8912C9.84183 21.4922 10.2207 20.9313 10.3949 20.2954C10.5692 19.6594 10.529 18.9837 10.2806 18.3729C10.0323 17.762 9.58956 17.25 9.02098 16.916C9.13298 16.073 9.77098 15.776 12.08 15.298C13.366 15.033 14.694 14.758 15.82 14.035C17.179 13.165 17.907 11.842 17.993 10.103C18.4508 9.84035 18.8312 9.46156 19.0958 9.00488C19.3604 8.54821 19.4998 8.02981 19.5 7.50202ZM7.49998 3.00202C7.8978 3.00202 8.27933 3.16005 8.56064 3.44135C8.84194 3.72266 8.99998 4.10419 8.99998 4.50202C8.99998 4.89984 8.84194 5.28137 8.56064 5.56268C8.27933 5.84398 7.8978 6.00202 7.49998 6.00202C7.10215 6.00202 6.72062 5.84398 6.43932 5.56268C6.15801 5.28137 5.99998 4.89984 5.99998 4.50202C5.99998 4.10419 6.15801 3.72266 6.43932 3.44135C6.72062 3.16005 7.10215 3.00202 7.49998 3.00202ZM7.49998 21.002C7.10215 21.002 6.72062 20.844 6.43932 20.5627C6.15801 20.2814 5.99998 19.8998 5.99998 19.502C5.99998 19.1042 6.15801 18.7227 6.43932 18.4414C6.72062 18.1601 7.10215 18.002 7.49998 18.002C7.8978 18.002 8.27933 18.1601 8.56064 18.4414C8.84194 18.7227 8.99998 19.1042 8.99998 19.502C8.99998 19.8998 8.84194 20.2814 8.56064 20.5627C8.27933 20.844 7.8978 21.002 7.49998 21.002ZM16.5 9.00202C16.1022 9.00202 15.7206 8.84398 15.4393 8.56268C15.158 8.28137 15 7.89984 15 7.50202C15 7.10419 15.158 6.72266 15.4393 6.44136C15.7206 6.16005 16.1022 6.00202 16.5 6.00202C16.8978 6.00202 17.2793 6.16005 17.5606 6.44136C17.8419 6.72266 18 7.10419 18 7.50202C18 7.89984 17.8419 8.28137 17.5606 8.56268C17.2793 8.84398 16.8978 9.00202 16.5 9.00202Z" />
            <TextBlock Grid.Column="1" VerticalAlignment="Center" Margin="5" Name="BranchNameBlock"></TextBlock>
        </Grid>
        <Button.Flyout>
            <Flyout>
                <TreeView Name="BranchesTree" MinWidth="240" MaxHeight="400" Margin="5" BorderThickness="0">
                    <TreeView.DataTemplates>
                        <TreeDataTemplate DataType="models:GitBranchGroup" ItemsSource="{Binding Children}">
                            <TextBlock Text="{Binding Name}" FontWeight="Bold"></TextBlock>
                        </TreeDataTemplate>
                        <TreeDataTemplate DataType="models:GitBranch">
                            <ui:GitBranchItem GitBranch="{Binding .}" />
                        </TreeDataTemplate>
                    </TreeView.DataTemplates>
                </TreeView>
            </Flyout>
        </Button.Flyout>
    </Button>
</UserControl>